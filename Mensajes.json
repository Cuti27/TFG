// Mensaje enviar informaciÃ³n de programador de riego al servidor
{
    "id": 12345678,
    "fecha": "12/12/2000 12:12:12",
    "tipo": 2,
    "valor": "95%"
}

0 - > Ack - > Correcto
1 - > noAck - > No Correcto
2 - > Humedad
3 - > Sensor x
4 - > Sensor y
    ...

// Mensaje telemetria acumulada
{
    "id": 1234567,
    "tipo": 2,
    "datos": [{
            "fecha": "12/12/2000 12:12:12",
            "valor": "95%"
        },
        {
            "fecha": "12/12/2000 12:12:50",
            "valor": "93%"
        },
        {
            "fecha": "12/12/2000 12:13:15",
            "valor": "93%"
        }
        ...
    ]
}
// Programe de riego
{
    "id": 1234,
    "programa": 1234123,
    "activado": true,
    "dias": [
        true,
        true,
        true,
        true,
        true,
        false,
        false
    ],
    "bombas": [
        false,
        false,
        true,
        true
    ],
    "sectores": [
        false,
        false,
        true,
        false
    ],
    "temporizadores": [{
            "HoraI": "12:12",
            "Duracion": "12:12"
        },
        {
            "HoraI": "12:12:12",
            "Duracion": "12:12:12"
        },
        {
            "HoraI": "12:12",
            "Duracion": "12:12"
        },
        {
            "HoraI": "12:12",
            "Duracion": "12:12"
        }
    ],
    "fertirrigacion": {
        "pH": 7,
        "phPreRie": true,
        "phRie": true,
        "phPost": true,
        "control": "secuencial",
        "linea de abonado": [{
                "abono": 1,
                "tipo": "time",
                "value": "10:10:10",
                "tiempo": "00:15:15"
            },
            {
                "abono": 2,
                "tipo": "time",
                "value": "10:10:10",
                "tiempo": "00:15:15"
            },
            {
                "abono": 3,
                "tipo": "time",
                "value": "10:10:10",
                "tiempo": "00:15:15"
            },
            {
                "abono": 4,
                "tipo": "time",
                "value": "10:10:10",
                "tiempo": "00:15:15"
            }
        ]
    }
}

Programador riego - > mosquitto mqtt - > node - red - > mysql



{
    "active": true,
    "automaticDays": false,
    "programDays": [
        true,
        false,
        true,
        false,
        true,
        false,
        false
    ],
    "emitter": [{
            "id": 7,
            "output": "3",
            "type": 3,
            "deviceId": "b98f62e2-bd67-44a6-836e-c7ccba757470",
            "description": null,
            "name": "Bomba 1"
        },
        {
            "id": 11,
            "output": "4",
            "type": 3,
            "deviceId": "af281279-6136-4789-820f-a199691cea04",
            "description": null,
            "name": "Bomba 2"
        }
    ],
    "sector": [{
            "id": 5,
            "output": "1",
            "type": 2,
            "deviceId": "b98f62e2-bd67-44a6-836e-c7ccba757470",
            "description": null,
            "name": "Este"
        },
        {
            "id": 8,
            "output": "1",
            "type": 2,
            "deviceId": "af281279-6136-4789-820f-a199691cea04",
            "description": null,
            "name": "Antonio"
        },
        {
            "id": 12,
            "output": "5",
            "type": 2,
            "deviceId": "af281279-6136-4789-820f-a199691cea04",
            "description": null,
            "name": "Mio"
        }
    ],
    "drip": false,
    "timer": [],
    "headId": 1
}